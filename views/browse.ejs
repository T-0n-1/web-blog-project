<%- include("partials/header.ejs") %>
<%- include("partials/navi.ejs") %>

<div class="container max-height">
  <div class="row align-items-center">
    <div class="col-12 col-md-6 pe-5 d-none d-md-flex justify-content-center">
      <img class="img-fluid rounded-circle" src="/images/logo3.png" alt="logo image" />
    </div>
    <div class="p-3 col-12 col-md-6">
      <div class="mb-3">
        <p class="display-6 lead text-center text-md-start">Browse blog posts</p>
        <ul>
          <% postsList.forEach(post => { %>
            <li class="btn d-flex" data-bs-toggle="modal" data-bs-target="#postModal<%= post.id %>">
              <strong><%= post.title %></strong>
            </li>
          <% }) %>
        </ul>
      </div>
    </div>
  </div>
</div>

<% postsList.forEach(post => { %>
  <div class="modal" id="postModal<%= post.id %>" tabindex="-1" aria-labelledby="postModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="postModalLabel"><%= post.title %></h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Load post content dynamically here -->
          <%= post.content %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
<% }) %>

<%- include("partials/footer.ejs") %>
